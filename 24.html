<!--
Copyright 2015 - Tomasz Cichocinski <tomaszcichocinski@gmail.com>
Released under the MIT License - https://github.com/Baransu/mendela-pl-p
-->

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>24</title>
        <style media="screen">
            .big {
                width: 200px;
                height: 200px;
                background-color: magenta;
            }
            .small {
                margin: auto;
                width: 100px;
                height: 100px;
                background-color: white;
            }
        </style>
    </head>
    <body>
        <div class="big">
            <div class="small"></div>
        </div>
        <script type="text/javascript">
            var div = document.querySelectorAll('div');
            div[0].addEventListener('mouseover', over, false);
            div[0].addEventListener('mouseout', out, false);
            div[1].addEventListener('mouseover', over, false);
            div[1].addEventListener('mouseout', out, false);
            var that = null;
            function over(e){
                that = e.target;
                setTimeout(function(){
                    // console.log(that.childNodes);
                    if(that.childNodes.length > 0) {
                        var div1 = that;
                        var div2 = that.childNodes[1];
                    } else {
                        var div1 = that;
                        var div2 = that.parentElement;
                    }

                    div1.style.backgroundColor = "red";

                    setTimeout(function(){
                        div2.style.backgroundColor = 'blue';
                    }, 1000)

                }, 1000)
            }
            function out(e){
                if(that.childNodes.length > 0) {
                    var div1 = e.target;
                    var div2 = e.target.childNodes[1];
                } else {
                    var div1 = e.target;
                    var div2 = e.target.parentElement;
                }

                div1.style.backgroundColor = "#ccc";
                div2.style.backgroundColor = "#ccc";
            }
        </script>
    </body>
</html>
